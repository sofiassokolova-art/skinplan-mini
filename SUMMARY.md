# SkinIQ - –°–≤–æ–¥–∫–∞ –ø–æ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

## ‚úÖ –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ

### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (Prisma)
- ‚úÖ –ü–æ–ª–Ω–∞—è —Å—Ö–µ–º–∞ –ë–î –≤ `prisma/schema.prisma`
- ‚úÖ –ú–æ–¥–µ–ª–∏: users, skin_profiles, questionnaires, products, recommendation_rules
- ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –∏ —Å–≤—è–∑–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

### 2. API Endpoints
- ‚úÖ `POST /api/auth/telegram` - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram
- ‚úÖ `GET /api/questionnaire/active` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –∞–Ω–∫–µ—Ç—ã
- ‚úÖ `POST /api/questionnaire/answers` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –∏ —Ä–∞—Å—á–µ—Ç –ø—Ä–æ—Ñ–∏–ª—è
- ‚úÖ `GET /api/profile/current` - —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ `GET /api/recommendations` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø—Ä–æ–¥—É–∫—Ç–æ–≤

### 3. –£—Ç–∏–ª–∏—Ç—ã
- ‚úÖ `lib/db.ts` - Prisma Client
- ‚úÖ `lib/telegram.ts` - –≤–∞–ª–∏–¥–∞—Ü–∏—è Telegram initData
- ‚úÖ `lib/profile-calculator.ts` - —Ä–∞—Å—á–µ—Ç –ø—Ä–æ—Ñ–∏–ª—è –∫–æ–∂–∏ –∏–∑ –æ—Ç–≤–µ—Ç–æ–≤

### 4. –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ `scripts/seed-questionnaire.ts` - –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∞–Ω–∫–µ—Ç—ã
- ‚úÖ `scripts/seed-products.ts` - –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- ‚úÖ `scripts/seed-rules.ts` - –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- ‚úÖ `scripts/seed-all.ts` - –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö

### 5. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Next.js
- ‚úÖ `app/layout.tsx` - –∫–æ—Ä–Ω–µ–≤–æ–π layout
- ‚úÖ `app/(miniapp)/page.tsx` - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–∑–∞–≥–ª—É—à–∫–∞)
- ‚úÖ `app/(miniapp)/quiz/page.tsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–Ω–∫–µ—Ç—ã (–∑–∞–≥–ª—É—à–∫–∞)
- ‚úÖ `middleware.ts` - –ø—Ä–æ–≤–µ—Ä–∫–∞ JWT —Ç–æ–∫–µ–Ω–æ–≤

### 6. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ `next.config.js` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Next.js
- ‚úÖ `tsconfig.next.json` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TypeScript
- ‚úÖ `package.next.json` - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Next.js
- ‚úÖ `.gitignore` - –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è Next.js

### 7. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `ARCHITECTURE.md` - –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- ‚úÖ `MIGRATION.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏
- ‚úÖ `README.NEXT.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- ‚úÖ `SUMMARY.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª

## ‚è≥ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- [ ] –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å `package.next.json` ‚Üí `package.json` (–∏–ª–∏ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å)
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `npm install`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `.env` —Å `DATABASE_URL` –∏ `TELEGRAM_BOT_TOKEN`
- [ ] –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏: `npm run db:generate && npm run db:push`
- [ ] –ó–∞–ø–æ–ª–Ω–∏—Ç—å –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: `npm run seed:all`

### 2. –ú–∏–≥—Ä–∞—Ü–∏—è UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ `src/ui/` –≤ `components/`
- [ ] –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ `src/components/` –≤ `components/`
- [ ] –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–º–ø–æ—Ä—Ç—ã –¥–ª—è Next.js

### 3. –ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü
- [ ] –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ `src/pages/Quiz.tsx` ‚Üí `app/(miniapp)/quiz/page.tsx`
  - –ó–∞–º–µ–Ω–∏—Ç—å `useNavigate` –Ω–∞ `next/navigation`
  - –ó–∞–º–µ–Ω–∏—Ç—å `localStorage` –Ω–∞ API –≤—ã–∑–æ–≤—ã
  - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å `/api/questionnaire/active` –∏ `/api/questionnaire/answers`
- [ ] –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ `src/pages/Home.tsx` ‚Üí `app/(miniapp)/page.tsx`
  - –ó–∞–º–µ–Ω–∏—Ç—å –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã –Ω–∞ `/api/recommendations`
  - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- [ ] –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ `src/pages/Plan.tsx` ‚Üí `app/(miniapp)/plan/page.tsx`

### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram
- [ ] –°–æ–∑–¥–∞—Ç—å —Ö—É–∫ `hooks/useTelegram.ts` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram WebApp
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–∏–Ω–∏-–∞–ø–ø–∞
- [ ] –°–æ—Ö—Ä–∞–Ω—è—Ç—å JWT —Ç–æ–∫–µ–Ω –≤ cookies/localStorage

### 5. –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (–±—É–¥—É—â–µ–µ)
- [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã `/admin/products`
- [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã `/admin/questionnaire`
- [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã `/admin/rules`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –∞–¥–º–∏–Ω–æ–≤

## üìù –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

1. **–¢–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω** - –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–∞ Neon –∏–ª–∏ –¥—Ä—É–≥–æ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–µ
3. **Telegram –±–æ—Ç** - –Ω—É–∂–µ–Ω —Ç–æ–∫–µ–Ω –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ initData
4. **–ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** - –Ω—É–∂–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∫–µ—Ç—É, –ø—Ä–æ–¥—É–∫—Ç—ã –∏ –ø—Ä–∞–≤–∏–ª–∞
5. **–§–æ—Ç–æ** - –ø–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–∑–∂–µ

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
mv package.next.json package.json
npm install

# 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env
cp .env.example .env
# –ó–∞–ø–æ–ª–Ω–∏—Ç—å DATABASE_URL –∏ TELEGRAM_BOT_TOKEN

# 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ë–î
npm run db:generate
npm run db:push

# 4. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
npm run seed:all

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å dev-—Å–µ—Ä–≤–µ—Ä
npm run dev
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ARCHITECTURE.md](./ARCHITECTURE.md) - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- [MIGRATION.md](./MIGRATION.md) - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏
- [README.NEXT.md](./README.NEXT.md) - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

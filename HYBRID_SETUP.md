# üîÄ –ì–∏–±—Ä–∏–¥–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Vite —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ + Next.js API)

## –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

–£ –≤–∞—Å —É–∂–µ –µ—Å—Ç—å —Ä–∞–±–æ—á–∏–π –º–∏–Ω–∏-–∞–ø–ø –Ω–∞ Vite, –∑–∞–¥–µ–ø–ª–æ–µ–Ω–Ω—ã–π –Ω–∞ Vercel. –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –ë–î –≥–æ—Ç–æ–≤–∞.

## üéØ –°—Ç—Ä–∞—Ç–µ–≥–∏—è: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥

–ú–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å **–æ–±–æ–∏–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ**:
- **–§—Ä–æ–Ω—Ç–µ–Ω–¥**: Vite + React Router (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π, —Ä–∞–±–æ—Ç–∞–µ—Ç)
- **–ë—ç–∫–µ–Ω–¥**: Next.js API —Ä–æ—É—Ç—ã (–Ω–æ–≤—ã–π, —Å –ë–î)

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –í–∞—Ä–∏–∞–Ω—Ç A: Next.js API –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å

1. –§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ Vite –æ—Å—Ç–∞–µ—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å
2. Next.js API —Ä–æ—É—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ `/api/*`
3. –§—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ `/api/*`

**–ü—Ä–æ–±–ª–µ–º–∞**: Vercel –º–æ–∂–µ—Ç –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –æ–±–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤ –æ–¥–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ.

### –í–∞—Ä–∏–∞–Ω—Ç B: –ü–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Next.js (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –º–∏–≥—Ä–∏—Ä—É—é—Ç –≤ `app/(miniapp)/*`
2. API —Ä–æ—É—Ç—ã –≤ `app/api/*`
3. –û–¥–∏–Ω –ø—Ä–æ–µ–∫—Ç, –æ–¥–∏–Ω —Ñ—Ä–µ–π–º–≤–æ—Ä–∫

## üìã –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å

### –®–∞–≥ 1: –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π Quiz.tsx –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API

–°–µ–π—á–∞—Å `Quiz.tsx` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `localStorage`. –î–æ–±–∞–≤–∏–º –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É API:

```typescript
// –í Quiz.tsx –¥–æ–±–∞–≤–∏—Ç—å:
const loadQuestionnaireFromAPI = async () => {
  try {
    const response = await fetch('/api/questionnaire/active');
    const data = await response.json();
    return data; // –ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∞–Ω–∫–µ—Ç—ã –∏–∑ –ë–î
  } catch (error) {
    console.error('Failed to load from API, using local storage');
    return null;
  }
};
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤

```typescript
const saveAnswersToAPI = async (answers) => {
  try {
    await fetch('/api/questionnaire/answers', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        questionnaireId: 1, // –∏–ª–∏ –∏–∑ API
        answers: formatAnswers(answers)
      })
    });
  } catch (error) {
    console.error('Failed to save to API');
    // Fallback –Ω–∞ localStorage
  }
};
```

### –®–∞–≥ 3: –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü

–ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ –æ–¥–Ω–æ–π –≤ `app/(miniapp)/*`, —Å–æ—Ö—Ä–∞–Ω—è—è —Å—Ç–∞—Ä—ã–µ –≤ `src/pages/` –∫–∞–∫ backup.

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π –≤–∞—Ä–∏–∞–Ω—Ç

–ü–æ–∫–∞ –æ—Å—Ç–∞–≤–∏—Ç—å –≤—Å—ë –∫–∞–∫ –µ—Å—Ç—å, –Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å API:

1. Quiz.tsx - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑ API, –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ
2. Home.tsx - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏–∑ API
3. –ï—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ (localStorage)

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è:**
1. –°–Ω–∞—á–∞–ª–∞ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å API –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π Quiz.tsx (–∫–∞–∫ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫)
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
3. –ó–∞—Ç–µ–º –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ –æ–¥–Ω–æ–π –Ω–∞ Next.js
4. –í –∫–æ–Ω—Ü–µ —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π –∫–æ–¥

–¢–∞–∫ –Ω–∏—á–µ–≥–æ –Ω–µ —Å–ª–æ–º–∞–µ—Ç—Å—è, –∏ –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ.

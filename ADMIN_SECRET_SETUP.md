# Настройка ADMIN_SECRET для админ-панели

## Проблема
Если вы не можете войти в админ-панель с секретным словом `skinplan-admin-2025-secure`, скорее всего переменная `ADMIN_SECRET` не установлена на Vercel.

## Решение

### Вариант 1: Через веб-интерфейс Vercel (рекомендуется)

1. Откройте https://vercel.com/dashboard
2. Выберите проект `skinplan-mini`
3. Перейдите в **Settings** → **Environment Variables**
4. Нажмите **Add New**
5. Заполните:
   - **Key**: `ADMIN_SECRET`
   - **Value**: `skinplan-admin-2025-secure`
   - Выберите все окружения: ✅ Production, ✅ Preview, ✅ Development
6. Нажмите **Save**
7. **Перезапустите деплой** (Deployments → выберите последний → Redeploy)

### Вариант 2: Через Vercel CLI

```bash
# Установите Vercel CLI (если еще не установлен)
npm i -g vercel

# Войдите в аккаунт
vercel login

# Добавьте переменную окружения
vercel env add ADMIN_SECRET production
# При запросе введите: skinplan-admin-2025-secure

# Также добавьте для preview и development
vercel env add ADMIN_SECRET preview
vercel env add ADMIN_SECRET development
```

### Вариант 3: Проверка текущих переменных

Чтобы проверить, какие переменные уже установлены:

```bash
vercel env ls
```

## После добавления переменной

1. **Перезапустите деплой** на Vercel
2. Подождите, пока деплой завершится
3. Попробуйте войти снова на `/admin/login`
4. Используйте секретное слово: `skinplan-admin-2025-secure`

## Локальная разработка

Для локальной разработки переменная уже добавлена в `.env` файл:

```
ADMIN_SECRET=skinplan-admin-2025-secure
```

## Безопасность

- ⚠️ Никогда не коммитьте `.env` файл в git (он уже в `.gitignore`)
- ⚠️ Храните секретное слово в безопасности
- ⚠️ Рассмотрите возможность смены секретного слова для продакшена

## Проверка работы

После добавления переменной и перезапуска деплоя:

1. Откройте `/admin/login`
2. Введите: `skinplan-admin-2025-secure`
3. Нажмите "Войти"
4. Должен произойти редирект на `/admin`

## Отладка

Если проблема сохраняется, проверьте логи на Vercel:

1. Откройте проект на Vercel
2. Перейдите в **Deployments**
3. Выберите последний деплой
4. Откройте **Functions** → `api/admin/login`
5. Проверьте логи на наличие ошибок

Ошибка "Секретное слово не настроено на сервере" означает, что `ADMIN_SECRET` не установлен.


# Настройка Telegram Login Widget для админ-панели

## Проблема: Не приходит сообщение в Telegram

Если после ввода номера телефона не приходит сообщение подтверждения, это означает, что **Login URL не настроен в BotFather**.

## Решение: Настройка Login URL

### Шаг 1: Откройте @BotFather
1. Откройте Telegram
2. Найдите `@BotFather` (официальный бот Telegram)
3. Отправьте команду `/mybots`

### Шаг 2: Выберите вашего бота
1. В списке выберите вашего бота (например, `@skinplanned_bot`)
2. Откройте меню бота

### Шаг 3: Настройте Login URL
1. Выберите **"Payments & Login"** (или **"Bot Settings"** → **"Login URL"** в некоторых версиях)
2. Выберите **"Login URL"**
3. Введите домен (без пути, только домен):
   ```
   skinplan-mini.vercel.app
   ```
   или
   ```
   https://skinplan-mini.vercel.app
   ```

### Шаг 4: Подтвердите
1. BotFather подтвердит установку Login URL
2. Теперь Telegram будет разрешать авторизацию с этого домена

### Шаг 5: Обновите страницу
1. Вернитесь на страницу `/admin/login`
2. Обновите страницу (Ctrl+F5 или Cmd+Shift+R)
3. Попробуйте авторизоваться снова

## Важные моменты

1. **Только домен**: Указывайте только домен (`skinplan-mini.vercel.app`), не полный URL с путем
2. **HTTPS обязателен**: Домен должен быть доступен по HTTPS
3. **Без порта**: Не указывайте порт (только домен)
4. **Один домен**: Можно указать только один домен, если нужен другой - замените

## Проверка

После настройки:
1. Обновите страницу `/admin/login`
2. Нажмите на кнопку "Login with Telegram"
3. Введите номер телефона
4. Вам должно прийти сообщение в Telegram с кодом подтверждения

## Альтернативный вариант

Если Login URL не работает, можно использовать **callback URL**:
1. В виджете используйте `data-auth-url` вместо `data-onauth`
2. Настройте URL в BotFather как: `https://skinplan-mini.vercel.app/admin/telegram-callback`

## Дополнительная информация

- [Официальная документация Telegram Login Widget](https://core.telegram.org/widgets/login)
- [Настройка Login URL в BotFather](https://core.telegram.org/widgets/login#setup)

